# ===================================
# PRODUCTION ENVIRONMENT VARIABLES
# For deployment at https://api.forgedai.com
# Copy to `.env.production` and fill in the placeholders.
# ===================================

# -----------------------------
# Stripe Configuration
# -----------------------------
# Server-only (keep secret)
STRIPE_SECRET_KEY=sk_live_your_stripe_secret_key_here
# Exposed to browser (safe to expose)
NEXT_PUBLIC_STRIPE_PUBLISHABLE_KEY=pk_live_your_publishable_key_here
# Server-only (keep secret)
STRIPE_WEBHOOK_SECRET=whsec_your_webhook_signing_secret_here

# -----------------------------
# Supabase Configuration
# -----------------------------
# Base URL
SUPABASE_URL=https://your-project-ref.supabase.co
NEXT_PUBLIC_SUPABASE_URL=https://your-project-ref.supabase.co

# Public anon key (exposed to browser)
SUPABASE_ANON_KEY=your_supabase_anon_key_here
NEXT_PUBLIC_SUPABASE_ANON_KEY=your_supabase_anon_key_here

# Service role (server-only, HIGHLY sensitive)
SUPABASE_SERVICE_ROLE_KEY=your_supabase_service_role_key_here

# JWT secret (server-only; matches your Supabase project)
SUPABASE_JWT_SECRET=your_supabase_jwt_secret_here

# -----------------------------
# Database Configuration
# -----------------------------
# Pooler (general use)
POSTGRES_URL=postgres://USER:PASSWORD@HOST:6543/DB_NAME?sslmode=require
# Prisma through pgbouncer
POSTGRES_PRISMA_URL=postgres://USER:PASSWORD@HOST:6543/DB_NAME?sslmode=require&pgbouncer=true
# Direct (no pooling)
POSTGRES_URL_NON_POOLING=postgres://USER:PASSWORD@HOST:5432/DB_NAME?sslmode=require

POSTGRES_USER=postgres
POSTGRES_PASSWORD=your_db_password_here
POSTGRES_DATABASE=postgres
POSTGRES_HOST=db.your-project-ref.supabase.co

# If your ORM expects DATABASE_URL, set it (optional, but common for Prisma)
# DATABASE_URL=${POSTGRES_PRISMA_URL}

# -----------------------------
# Application URLs
# -----------------------------
NEXT_PUBLIC_APP_URL=https://api.forgedai.com

# Auth redirects
NEXT_PUBLIC_DEV_SUPABASE_REDIRECT_URL=https://api.forgedai.com/auth/callback
NEXT_PUBLIC_SIGNUP_REDIRECT_URL=https://api.forgedai.com/developer/onboard
NEXT_PUBLIC_LOGIN_REDIRECT_URL=https://api.forgedai.com/developer/dashboard

# Public API base (if different from app URL)
NEXT_PUBLIC_API_URL=https://api.forgedai.com/api

# -----------------------------
# Optional: Additional Settings
# -----------------------------
NODE_ENV=production

# CORS allowlist (comma-separated if multiple)
NEXT_PUBLIC_ALLOWED_ORIGINS=https://api.forgedai.com

# Sessions (server-only)
SESSION_SECRET=change_me_to_a_long_random_string

# Rate limiting
RATE_LIMIT_ENABLED=true
RATE_LIMIT_WINDOW_MS=900000
RATE_LIMIT_MAX_REQUESTS=100
